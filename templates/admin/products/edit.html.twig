{% extends 'admin/base.html.twig' %}

{% block content %}
<div class="page-header">
    <h2>Editar Producto</h2>
    <a href="{{ path('admin_products_list') }}" class="btn btn-secondary">← Volver a la lista</a>
</div>

<form method="post" style="max-width: 800px;">
    <div class="form-group">
        <label for="name">Nombre del Producto *</label>
        <input type="text" name="name" id="name" required value="{{ product.name }}">
    </div>
    
    <div class="form-group">
        <label for="price">Precio (USD) *</label>
        <input type="number" name="price" id="price" step="0.01" min="0.01" required value="{{ (product.price.amountInCents / 100)|number_format(2, '.', '') }}">
        <small style="display: block; margin-top: 0.5rem; color: #7f8c8d;">
            Precio actual: ${{ (product.price.amountInCents / 100)|number_format(2, '.', ',') }}
        </small>
    </div>
    
    <div class="form-group">
        <label for="stock">Stock *</label>
        <input type="number" name="stock" id="stock" min="0" required value="{{ product.stock }}">
        {% if product.isLowStock %}
            <small style="display: block; margin-top: 0.5rem; color: #f39c12;">
                ⚠️ Stock bajo
            </small>
        {% elseif product.stock == 0 %}
            <small style="display: block; margin-top: 0.5rem; color: #e74c3c;">
                ❌ Sin stock
            </small>
        {% endif %}
    </div>
    
    <div class="form-group">
        <label for="category">Categoría *</label>
        <input type="text" name="category" id="category" required value="{{ product.category }}">
    </div>
    
    <div class="form-group">
        <label for="description">Descripción *</label>
        <textarea name="description" id="description" required>{{ product.description }}</textarea>
    </div>
    
    <div style="display: flex; gap: 1rem;">
        <button type="submit" class="btn btn-success">Guardar Cambios</button>
        <a href="{{ path('admin_products_list') }}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}
