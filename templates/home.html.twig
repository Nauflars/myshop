{% extends 'base.html.twig' %}

{% block title %}Home - MyShop{% endblock %}

{% block body %}
<div class="hero">
    <h1>Welcome to MyShop</h1>
    <p>Your one-stop shop for electronics, clothing, books, and home goods</p>
    <a href="{{ path('product_list') }}" class="btn btn-primary">Shop Now</a>
</div>

<section class="featured-products">
    <h2>Featured Products</h2>
    <div id="featured-products" class="product-grid">
        <p>Loading products...</p>
    </div>
</section>

<script>
// Load featured products via API
fetch('/api/products?limit=8')
    .then(response => response.json())
    .then(products => {
        const grid = document.getElementById('featured-products');
        grid.innerHTML = products.map(product => `
            <div class="product-card">
                <h3>${product.name}</h3>
                <p class="category">${product.category}</p>
                <p class="price">${product.price}</p>
                <p class="stock">${product.inStock ? 'In Stock' : 'Out of Stock'}</p>
                <a href="/products/${product.id}" class="btn btn-secondary">View Details</a>
            </div>
        `).join('');
    })
    .catch(error => console.error('Error loading products:', error));
</script>
{% endblock %}
